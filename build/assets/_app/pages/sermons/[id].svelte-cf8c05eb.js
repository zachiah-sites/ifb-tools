import{_ as t}from"../../chunks/preload-helper-9f12a5fd.js";import{S as n,i as e,s,D as a,c as r,a as o,d as c,b as l,f as i,E as f,F as $,P as u,l as m,T as d,x as p,u as h,L as g,A as v,j as w,m as x,o as k,v as b,k as j,n as y,r as E,w as L,e as N,t as _,g as B,Q as C,R as D,U as H}from"../../chunks/vendor-58648dd5.js";import{N as P}from"../../chunks/Nav-8ac6cff7.js";import{N as S,a as q}from"../../chunks/NavButton-61c68274.js";import{L as z,J as A}from"../../chunks/Loader-56187cdc.js";import{p as F}from"../../chunks/stores-b238a2b6.js";import{s as M}from"../../chunks/supabase-96a69e01.js";function R(t){let n,e;return{c(){n=a("svg"),e=a("path"),this.h()},l(t){n=r(t,"svg",{"aria-hidden":!0,focusable:!0,"data-prefix":!0,"data-icon":!0,role:!0,xmlns:!0,viewBox:!0,class:!0},1);var s=o(n);e=r(s,"path",{fill:!0,d:!0},1),o(e).forEach(c),s.forEach(c),this.h()},h(){l(e,"fill","currentColor"),l(e,"d","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),l(n,"aria-hidden","true"),l(n,"focusable","false"),l(n,"data-prefix","fas"),l(n,"data-icon","check"),l(n,"role","img"),l(n,"xmlns","http://www.w3.org/2000/svg"),l(n,"viewBox","0 0 512 512"),l(n,"class",t[0])},m(t,s){i(t,n,s),f(n,e)},p(t,[e]){1&e&&l(n,"class",t[0])},i:$,o:$,d(t){t&&c(n)}}}function T(t,n,e){let{class:s=""}=n;return t.$$set=t=>{"class"in t&&e(0,s=t.class)},[s]}class I extends n{constructor(t){super(),e(this,t,T,R,s,{class:0})}}function J(t){let n,e;return{c(){n=a("svg"),e=a("path"),this.h()},l(t){n=r(t,"svg",{"aria-hidden":!0,focusable:!0,"data-prefix":!0,"data-icon":!0,role:!0,xmlns:!0,viewBox:!0,class:!0},1);var s=o(n);e=r(s,"path",{fill:!0,d:!0},1),o(e).forEach(c),s.forEach(c),this.h()},h(){l(e,"fill","currentColor"),l(e,"d","M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"),l(n,"aria-hidden","true"),l(n,"focusable","false"),l(n,"data-prefix","fas"),l(n,"data-icon","arrow-left"),l(n,"role","img"),l(n,"xmlns","http://www.w3.org/2000/svg"),l(n,"viewBox","0 0 448 512"),l(n,"class",t[0])},m(t,s){i(t,n,s),f(n,e)},p(t,[e]){1&e&&l(n,"class",t[0])},i:$,o:$,d(t){t&&c(n)}}}function O(t,n,e){let{class:s=""}=n;return t.$$set=t=>{"class"in t&&e(0,s=t.class)},[s]}class Q extends n{constructor(t){super(),e(this,t,O,J,s,{class:0})}}function U(t){return{c:$,l:$,m:$,p:$,i:$,o:$,d:$}}function V(t){let n,e,s,a;const r=[K,G],o=[];return n=t[9][404]?0:1,e=o[n]=r[n](t),{c(){e.c(),s=m()},l(t){e.l(t),s=m()},m(t,e){o[n].m(t,e),i(t,s,e),a=!0},p(t,n){e.p(t,n)},i(t){a||(p(e),a=!0)},o(t){h(e),a=!1},d(t){o[n].d(t),t&&c(s)}}}function G(t){let n,e,s,a,r,o;n=new P({props:{posClasses:"top-0",$$slots:{default:[Y]},$$scope:{ctx:t}}});const l=[tt,Z],f=[];function $(t,n){return t[0]?0:1}return s=$(t),a=f[s]=l[s](t),{c(){w(n.$$.fragment),e=j(),a.c(),r=m()},l(t){x(n.$$.fragment,t),e=y(t),a.l(t),r=m()},m(t,a){k(n,t,a),i(t,e,a),f[s].m(t,a),i(t,r,a),o=!0},p(t,e){const o={};1024&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o);let c=s;s=$(t),s===c?f[s].p(t,e):(E(),h(f[c],1,1,(()=>{f[c]=null})),L(),a=f[s],a?a.p(t,e):(a=f[s]=l[s](t),a.c()),p(a,1),a.m(r.parentNode,r))},i(t){o||(p(n.$$.fragment,t),p(a),o=!0)},o(t){h(n.$$.fragment,t),h(a),o=!1},d(t){b(n,t),t&&c(e),f[s].d(t),t&&c(r)}}}function K(t){let n,e;return n=new A({props:{title:"Sermon Not Found"}}),{c(){w(n.$$.fragment)},l(t){x(n.$$.fragment,t)},m(t,s){k(n,t,s),e=!0},p:$,i(t){e||(p(n.$$.fragment,t),e=!0)},o(t){h(n.$$.fragment,t),e=!1},d(t){b(n,t)}}}function W(t){let n,e;return n=new Q({props:{class:"h-8"}}),{c(){w(n.$$.fragment)},l(t){x(n.$$.fragment,t)},m(t,s){k(n,t,s),e=!0},p:$,i(t){e||(p(n.$$.fragment,t),e=!0)},o(t){h(n.$$.fragment,t),e=!1},d(t){b(n,t)}}}function X(t){let n,e;return n=new I({props:{class:"h-8"}}),{c(){w(n.$$.fragment)},l(t){x(n.$$.fragment,t)},m(t,s){k(n,t,s),e=!0},p:$,i(t){e||(p(n.$$.fragment,t),e=!0)},o(t){h(n.$$.fragment,t),e=!1},d(t){b(n,t)}}}function Y(t){let n,e,s,a,$,u,m,d=t[9].title+"";return n=new S({props:{href:"/sermons",$$slots:{default:[W]},$$scope:{ctx:t}}}),u=new q({props:{$$slots:{default:[X]},$$scope:{ctx:t}}}),u.$on("click",t[3]),{c(){w(n.$$.fragment),e=j(),s=N("h1"),a=_(d),$=j(),w(u.$$.fragment),this.h()},l(t){x(n.$$.fragment,t),e=y(t),s=r(t,"H1",{class:!0});var l=o(s);a=B(l,d),l.forEach(c),$=y(t),x(u.$$.fragment,t),this.h()},h(){l(s,"class","p-4 whitespace-nowrap bg-blue-800 text-white  flex-grow mr-auto")},m(t,r){k(n,t,r),i(t,e,r),i(t,s,r),f(s,a),i(t,$,r),k(u,t,r),m=!0},p(t,e){const s={};1024&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s);const a={};1024&e&&(a.$$scope={dirty:e,ctx:t}),u.$set(a)},i(t){m||(p(n.$$.fragment,t),p(u.$$.fragment,t),m=!0)},o(t){h(n.$$.fragment,t),h(u.$$.fragment,t),m=!1},d(t){b(n,t),t&&c(e),t&&c(s),t&&c($),b(u,t)}}}function Z(t){let n,e;return n=new z({}),{c(){w(n.$$.fragment)},l(t){x(n.$$.fragment,t)},m(t,s){k(n,t,s),e=!0},p:$,i(t){e||(p(n.$$.fragment,t),e=!0)},o(t){h(n.$$.fragment,t),e=!1},d(t){b(n,t)}}}function tt(t){let n,e,s,a;function r(n){t[4](n)}var o=t[0];function l(t){let n={initialData:t[9].content};return void 0!==t[1]&&(n.editor=t[1]),{props:n}}return o&&(n=new o(l(t)),C.push((()=>D(n,"editor",r))),n.$on("save",t[5])),{c(){n&&w(n.$$.fragment),s=m()},l(t){n&&x(n.$$.fragment,t),s=m()},m(t,e){n&&k(n,t,e),i(t,s,e),a=!0},p(t,a){const c={};if(!e&&2&a&&(e=!0,c.editor=t[1],H((()=>e=!1))),o!==(o=t[0])){if(n){E();const t=n;h(t.$$.fragment,1,0,(()=>{b(t,1)})),L()}o?(n=new o(l(t)),C.push((()=>D(n,"editor",r))),n.$on("save",t[5]),w(n.$$.fragment),p(n.$$.fragment,1),k(n,s.parentNode,s)):n=null}else o&&n.$set(c)},i(t){a||(n&&p(n.$$.fragment,t),a=!0)},o(t){n&&h(n.$$.fragment,t),a=!1},d(t){t&&c(s),n&&b(n,t)}}}function nt(t){let n,e;return n=new z({}),{c(){w(n.$$.fragment)},l(t){x(n.$$.fragment,t)},m(t,s){k(n,t,s),e=!0},p:$,i(t){e||(p(n.$$.fragment,t),e=!0)},o(t){h(n.$$.fragment,t),e=!1},d(t){b(n,t)}}}function et(t){let n,e,s={ctx:t,current:null,token:null,hasCatch:!1,pending:nt,then:V,catch:U,value:9,blocks:[,,,]};return u(t[2](),s),{c(){n=m(),s.block.c()},l(t){n=m(),s.block.l(t)},m(t,a){i(t,n,a),s.block.m(t,s.anchor=a),s.mount=()=>n.parentNode,s.anchor=n,e=!0},p(n,[e]){d(s,t=n,e)},i(t){e||(p(s.block),e=!0)},o(t){for(let n=0;n<3;n+=1){const t=s.blocks[n];h(t)}e=!1},d(t){t&&c(n),s.block.d(t),s.token=null,s=null}}}function st(n,e,s){let a;g(n,F,(t=>s(6,a=t)));var r=this&&this.__awaiter||function(t,n,e,s){return new(e||(e=Promise))((function(a,r){function o(t){try{l(s.next(t))}catch(n){r(n)}}function c(t){try{l(s.throw(t))}catch(n){r(n)}}function l(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,c)}l((s=s.apply(t,n||[])).next())}))};let o=null;v((()=>r(void 0,void 0,void 0,(function*(){s(0,o=(yield t((()=>import("../../chunks/SermonEditor-5368679c.js")),["/_app/chunks/SermonEditor-5368679c.js","/_app/assets/SermonEditor-dd40ec24.css","/_app/chunks/vendor-58648dd5.js","/_app/assets/vendor-fc956fa2.css"])).default)}))));const c=a.params.id;let l=null;return[o,l,()=>r(void 0,void 0,void 0,(function*(){const{error:t,data:n}=yield M.from("sermons").select("title,content,id").eq("id",c);if(t)throw t;return 0===n.length?{404:!0}:n[0]})),()=>r(void 0,void 0,void 0,(function*(){yield M.from("sermons").update({content:l.getData()}).eq("id",c)})),function(t){l=t,s(1,l)},t=>{console.log(t)}]}export default class extends n{constructor(t){super(),e(this,t,st,et,s,{})}}
