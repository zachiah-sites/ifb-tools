import{S as t,i as e,s as n,D as s,c as a,a as o,d as l,b as i,f as r,E as c,F as u,e as f,k as d,n as p,al as $,A as h,Q as m,P as g,l as v,T as w,x as y,u as x,L as b,j as k,m as _,o as D,v as E,R as L,U as j,t as P,g as C}from"../../chunks/vendor-d54525a3.js";import{N as I}from"../../chunks/Nav-48dc42f9.js";import{N as S,a as V}from"../../chunks/NavButton-1643242b.js";import{L as N,J as T}from"../../chunks/Loader-c40bd019.js";import{p as B}from"../../chunks/stores-f5434914.js";import{s as H}from"../../chunks/supabase-8fb510b0.js";import{_ as M}from"../../chunks/preload-helper-9f12a5fd.js";function q(t){let e,n;return{c(){e=s("svg"),n=s("path"),this.h()},l(t){e=a(t,"svg",{"aria-hidden":!0,focusable:!0,"data-prefix":!0,"data-icon":!0,role:!0,xmlns:!0,viewBox:!0,class:!0},1);var s=o(e);n=a(s,"path",{fill:!0,d:!0},1),o(n).forEach(l),s.forEach(l),this.h()},h(){i(n,"fill","currentColor"),i(n,"d","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),i(e,"aria-hidden","true"),i(e,"focusable","false"),i(e,"data-prefix","fas"),i(e,"data-icon","check"),i(e,"role","img"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 512 512"),i(e,"class",t[0])},m(t,s){r(t,e,s),c(e,n)},p(t,[n]){1&n&&i(e,"class",t[0])},i:u,o:u,d(t){t&&l(e)}}}function z(t,e,n){let{class:s=""}=e;return t.$$set=t=>{"class"in t&&n(0,s=t.class)},[s]}class A extends t{constructor(t){super(),e(this,t,z,q,n,{class:0})}}function F(t){let e,n;return{c(){e=s("svg"),n=s("path"),this.h()},l(t){e=a(t,"svg",{"aria-hidden":!0,focusable:!0,"data-prefix":!0,"data-icon":!0,role:!0,xmlns:!0,viewBox:!0,class:!0},1);var s=o(e);n=a(s,"path",{fill:!0,d:!0},1),o(n).forEach(l),s.forEach(l),this.h()},h(){i(n,"fill","currentColor"),i(n,"d","M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"),i(e,"aria-hidden","true"),i(e,"focusable","false"),i(e,"data-prefix","fas"),i(e,"data-icon","arrow-left"),i(e,"role","img"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 448 512"),i(e,"class",t[0])},m(t,s){r(t,e,s),c(e,n)},p(t,[n]){1&n&&i(e,"class",t[0])},i:u,o:u,d(t){t&&l(e)}}}function R(t,e,n){let{class:s=""}=e;return t.$$set=t=>{"class"in t&&n(0,s=t.class)},[s]}class J extends t{constructor(t){super(),e(this,t,R,F,n,{class:0})}}function O(t){let e,n,s,$,h,m=(t[0]||'<ol style="list-style-type:decimal;"><li>Intro<ol style="list-style-type:upper-latin;"><li>Title</li><li>Verse</li><li>Pray</li></ol></li><li>Point 1<ol style="list-style-type:upper-latin;"><li>Subpoint 1</li><li>Subpoint 2</li></ol></li><li>Conclusion</li></ol>')+"";return{c(){e=f("div"),n=f("div"),s=d(),$=f("div"),h=f("div"),this.h()},l(t){e=a(t,"DIV",{class:!0});var i=o(e);n=a(i,"DIV",{class:!0}),o(n).forEach(l),s=p(i),$=a(i,"DIV",{class:!0});var r=o($);h=a(r,"DIV",{class:!0}),o(h).forEach(l),r.forEach(l),i.forEach(l),this.h()},h(){i(n,"class","document-editor__toolbar"),i(h,"class","document-editor__editable"),i($,"class","document-editor__editable-container"),i(e,"class","document-editor")},m(a,o){r(a,e,o),c(e,n),t[4](n),c(e,s),c(e,$),c($,h),h.innerHTML=m,t[5](h)},p(t,[e]){1&e&&m!==(m=(t[0]||'<ol style="list-style-type:decimal;"><li>Intro<ol style="list-style-type:upper-latin;"><li>Title</li><li>Verse</li><li>Pray</li></ol></li><li>Point 1<ol style="list-style-type:upper-latin;"><li>Subpoint 1</li><li>Subpoint 2</li></ol></li><li>Conclusion</li></ol>')+"")&&(h.innerHTML=m)},i:u,o:u,d(n){n&&l(e),t[4](null),t[5](null)}}}function Q(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(a,o){function l(t){try{r(s.next(t))}catch(e){o(e)}}function i(t){try{r(s.throw(t))}catch(e){o(e)}}function r(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,i)}r((s=s.apply(t,e||[])).next())}))};let a,o,{initialData:l}=e,{editor:i=null}=e;return $(),h((()=>s(void 0,void 0,void 0,(function*(){const t=(yield M((()=>import("../../chunks/ckeditor-19b9bdc0.js").then((function(t){return t.c}))),["/_app/chunks/ckeditor-19b9bdc0.js","/_app/chunks/vendor-d54525a3.js","/_app/assets/vendor-fc956fa2.css"])).default;n(3,i=yield t.create(o,{cloudServices:{}})),a.appendChild(i.ui.view.toolbar.element)})))),t.$$set=t=>{"initialData"in t&&n(0,l=t.initialData),"editor"in t&&n(3,i=t.editor)},[l,a,o,i,function(t){m[t?"unshift":"push"]((()=>{a=t,n(1,a)}))},function(t){m[t?"unshift":"push"]((()=>{o=t,n(2,o)}))}]}class U extends t{constructor(t){super(),e(this,t,Q,O,n,{initialData:0,editor:3})}}function G(t){return{c:u,l:u,m:u,p:u,i:u,o:u,d:u}}function K(t){let e,n,s,a;const o=[X,W],i=[];return e=t[8][404]?0:1,n=i[e]=o[e](t),{c(){n.c(),s=v()},l(t){n.l(t),s=v()},m(t,n){i[e].m(t,n),r(t,s,n),a=!0},p(t,e){n.p(t,e)},i(t){a||(y(n),a=!0)},o(t){x(n),a=!1},d(t){i[e].d(t),t&&l(s)}}}function W(t){let e,n,s,a,o;function i(e){t[3](e)}e=new I({props:{posClasses:"top-0",$$slots:{default:[tt]},$$scope:{ctx:t}}});let c={initialData:t[8].content};return void 0!==t[0]&&(c.editor=t[0]),s=new U({props:c}),m.push((()=>L(s,"editor",i))),s.$on("save",t[4]),{c(){k(e.$$.fragment),n=d(),k(s.$$.fragment)},l(t){_(e.$$.fragment,t),n=p(t),_(s.$$.fragment,t)},m(t,a){D(e,t,a),r(t,n,a),D(s,t,a),o=!0},p(t,n){const o={};512&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const l={};!a&&1&n&&(a=!0,l.editor=t[0],j((()=>a=!1))),s.$set(l)},i(t){o||(y(e.$$.fragment,t),y(s.$$.fragment,t),o=!0)},o(t){x(e.$$.fragment,t),x(s.$$.fragment,t),o=!1},d(t){E(e,t),t&&l(n),E(s,t)}}}function X(t){let e,n;return e=new T({props:{title:"Sermon Not Found"}}),{c(){k(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){D(e,t,s),n=!0},p:u,i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){x(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function Y(t){let e,n;return e=new J({props:{class:"h-8"}}),{c(){k(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){D(e,t,s),n=!0},p:u,i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){x(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function Z(t){let e,n;return e=new A({props:{class:"h-8"}}),{c(){k(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){D(e,t,s),n=!0},p:u,i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){x(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function tt(t){let e,n,s,u,$,h,m,g=t[8].title+"";return e=new S({props:{href:"/sermons",$$slots:{default:[Y]},$$scope:{ctx:t}}}),h=new V({props:{$$slots:{default:[Z]},$$scope:{ctx:t}}}),h.$on("click",t[2]),{c(){k(e.$$.fragment),n=d(),s=f("h1"),u=P(g),$=d(),k(h.$$.fragment),this.h()},l(t){_(e.$$.fragment,t),n=p(t),s=a(t,"H1",{class:!0});var i=o(s);u=C(i,g),i.forEach(l),$=p(t),_(h.$$.fragment,t),this.h()},h(){i(s,"class","p-4 whitespace-nowrap bg-blue-800 text-white  flex-grow mr-auto")},m(t,a){D(e,t,a),r(t,n,a),r(t,s,a),c(s,u),r(t,$,a),D(h,t,a),m=!0},p(t,n){const s={};512&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s);const a={};512&n&&(a.$$scope={dirty:n,ctx:t}),h.$set(a)},i(t){m||(y(e.$$.fragment,t),y(h.$$.fragment,t),m=!0)},o(t){x(e.$$.fragment,t),x(h.$$.fragment,t),m=!1},d(t){E(e,t),t&&l(n),t&&l(s),t&&l($),E(h,t)}}}function et(t){let e,n;return e=new N({}),{c(){k(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){D(e,t,s),n=!0},p:u,i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){x(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function nt(t){let e,n,s={ctx:t,current:null,token:null,hasCatch:!1,pending:et,then:K,catch:G,value:8,blocks:[,,,]};return g(t[1](),s),{c(){e=v(),s.block.c()},l(t){e=v(),s.block.l(t)},m(t,a){r(t,e,a),s.block.m(t,s.anchor=a),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(e,[n]){w(s,t=e,n)},i(t){n||(y(s.block),n=!0)},o(t){for(let e=0;e<3;e+=1){const t=s.blocks[e];x(t)}n=!1},d(t){t&&l(e),s.block.d(t),s.token=null,s=null}}}function st(t,e,n){let s;b(t,B,(t=>n(5,s=t)));var a=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(a,o){function l(t){try{r(s.next(t))}catch(e){o(e)}}function i(t){try{r(s.throw(t))}catch(e){o(e)}}function r(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,i)}r((s=s.apply(t,e||[])).next())}))};const o=s.params.id;let l=null;return[l,()=>a(void 0,void 0,void 0,(function*(){const{error:t,data:e}=yield H.from("sermons").select("title,content,id").eq("id",o);if(t)throw t;return 0===e.length?{404:!0}:e[0]})),()=>a(void 0,void 0,void 0,(function*(){yield H.from("sermons").update({content:l.getData()}).eq("id",o)})),function(t){l=t,n(0,l)},t=>{console.log(t)}]}export default class extends t{constructor(t){super(),e(this,t,st,nt,n,{})}}
