import{S as t,i as e,s as n,D as r,c as s,a as o,d as a,b as c,f as l,E as $,F as i,P as f,Q as u,R as m,k as d,j as p,e as h,n as g,m as v,o as b,T as x,U as w,x as k,u as y,v as j,L as E,t as C,g as L,l as S,G as F}from"../../chunks/vendor-d54525a3.js";import{g as H}from"../../chunks/navigation-20968cc5.js";import{B as N,F as B,a as D}from"../../chunks/FormField-cc6e7d8b.js";import{N as M}from"../../chunks/Nav-48dc42f9.js";import{L as V,J as _}from"../../chunks/Loader-c40bd019.js";import{M as A}from"../../chunks/Modal-1f889953.js";import{a as I}from"../../chunks/db-5a0eba16.js";import{s as O}from"../../chunks/supabase-8fb510b0.js";import"../../chunks/singletons-bb9012b7.js";function P(t){let e,n;return{c(){e=r("svg"),n=r("path"),this.h()},l(t){e=s(t,"svg",{"aria-hidden":!0,focusable:!0,"data-prefix":!0,"data-icon":!0,role:!0,xmlns:!0,viewBox:!0,class:!0},1);var r=o(e);n=s(r,"path",{fill:!0,d:!0},1),o(n).forEach(a),r.forEach(a),this.h()},h(){c(n,"fill","currentColor"),c(n,"d","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"),c(e,"aria-hidden","true"),c(e,"focusable","false"),c(e,"data-prefix","fas"),c(e,"data-icon","plus"),c(e,"role","img"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 0 448 512"),c(e,"class",t[0])},m(t,r){l(t,e,r),$(e,n)},p(t,[n]){1&n&&c(e,"class",t[0])},i:i,o:i,d(t){t&&a(e)}}}function T(t,e,n){let{class:r=""}=e;return t.$$set=t=>{"class"in t&&n(0,r=t.class)},[r]}class U extends t{constructor(t){super(),e(this,t,T,P,n,{class:0})}}function q(t,e,n){const r=t.slice();return r[12]=e[n],r}function z(t){return{c:i,l:i,m:i,p:i,i:i,o:i,d:i}}function G(t){let e,n,r,s;const o=[Q,J],c=[];return e=0===t[11].length?0:1,n=c[e]=o[e](t),{c(){n.c(),r=S()},l(t){n.l(t),r=S()},m(t,n){c[e].m(t,n),l(t,r,n),s=!0},p(t,e){n.p(t,e)},i(t){s||(k(n),s=!0)},o(t){y(n),s=!1},d(t){c[e].d(t),t&&a(r)}}}function J(t){let e,n=t[11],r=[];for(let s=0;s<n.length;s+=1)r[s]=R(q(t,n,s));return{c(){e=h("ul");for(let t=0;t<r.length;t+=1)r[t].c()},l(t){e=s(t,"UL",{});var n=o(e);for(let e=0;e<r.length;e+=1)r[e].l(n);n.forEach(a)},m(t,n){l(t,e,n);for(let s=0;s<r.length;s+=1)r[s].m(e,null)},p(t,s){if(8&s){let o;for(n=t[11],o=0;o<n.length;o+=1){const a=q(t,n,o);r[o]?r[o].p(a,s):(r[o]=R(a),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},i:i,o:i,d(t){t&&a(e),F(r,t)}}}function Q(t){let e,n;return e=new _({props:{title:"You Don't Have Any Sermons",$$slots:{default:[K]},$$scope:{ctx:t}}}),{c(){p(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,r){b(e,t,r),n=!0},p(t,n){const r={};32769&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function R(t){let e,n,r,f,u,m=t[12].title+"";return{c(){e=h("li"),n=h("a"),r=C(m),u=d(),this.h()},l(t){e=s(t,"LI",{class:!0});var c=o(e);n=s(c,"A",{href:!0,class:!0});var l=o(n);r=L(l,m),l.forEach(a),u=g(c),c.forEach(a),this.h()},h(){c(n,"href",f="/sermons/"+t[12].id),c(n,"class","mt-4 text-blue-800 p-2 block border-b-2 border-transparent hover:border-blue-800 active:text-blue-600"),c(e,"class","flex")},m(t,s){l(t,e,s),$(e,n),$(n,r),$(e,u)},p:i,d(t){t&&a(e)}}}function Y(t){let e;return{c(){e=C("Create One")},l(t){e=L(t,"Create One")},m(t,n){l(t,e,n)},d(t){t&&a(e)}}}function K(t){let e,n;return e=new N({props:{$$slots:{default:[Y]},$$scope:{ctx:t}}}),e.$on("click",t[5]),{c(){p(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,r){b(e,t,r),n=!0},p(t,n){const r={};32768&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function W(t){let e,n;return e=new V({}),{c(){p(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,r){b(e,t,r),n=!0},p:i,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function X(t){let e,n;return{c(){e=h("h1"),n=C("Sermons"),this.h()},l(t){e=s(t,"H1",{class:!0});var r=o(e);n=L(r,"Sermons"),r.forEach(a),this.h()},h(){c(e,"class","p-4 whitespace-nowrap bg-blue-800 text-white border-l border-r border-white flex-grow mr-auto")},m(t,r){l(t,e,r),$(e,n)},d(t){t&&a(e)}}}function Z(t){let e,n;return e=new U({}),{c(){p(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,r){b(e,t,r),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function tt(t){let e;return{c(){e=C("Create")},l(t){e=L(t,"Create")},m(t,n){l(t,e,n)},d(t){t&&a(e)}}}function et(t){let e,n,r,s,o;function c(e){t[7](e)}let $={type:"text",label:"Title",required:!0};return void 0!==t[1]&&($.value=t[1]),e=new D({props:$}),u.push((()=>m(e,"value",c))),s=new N({props:{type:"submit",$$slots:{default:[tt]},$$scope:{ctx:t}}}),{c(){p(e.$$.fragment),r=d(),p(s.$$.fragment)},l(t){v(e.$$.fragment,t),r=g(t),v(s.$$.fragment,t)},m(t,n){b(e,t,n),l(t,r,n),b(s,t,n),o=!0},p(t,r){const o={};!n&&2&r&&(n=!0,o.value=t[1],w((()=>n=!1))),e.$set(o);const a={};32768&r&&(a.$$scope={dirty:r,ctx:t}),s.$set(a)},i(t){o||(k(e.$$.fragment,t),k(s.$$.fragment,t),o=!0)},o(t){y(e.$$.fragment,t),y(s.$$.fragment,t),o=!1},d(t){j(e,t),t&&a(r),j(s,t)}}}function nt(t){let e,n;return e=new B({props:{title:"New Sermon",error:t[2],$$slots:{default:[et]},$$scope:{ctx:t}}}),e.$on("submit",t[4]),{c(){p(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,r){b(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.error=t[2]),32770&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function rt(t){let e,n,r,$,i,E,C,L,S,F={ctx:t,current:null,token:null,hasCatch:!1,pending:W,then:G,catch:z,value:11,blocks:[,,,]};function H(e){t[8](e)}f(t[3](),F),n=new M({props:{posClasses:"top-0",$$slots:{default:[X]},$$scope:{ctx:t}}}),i=new N({props:{$$slots:{default:[Z]},$$scope:{ctx:t}}}),i.$on("click",t[6]);let B={$$slots:{default:[nt]},$$scope:{ctx:t}};return void 0!==t[0]&&(B.open=t[0]),C=new A({props:B}),u.push((()=>m(C,"open",H))),{c(){F.block.c(),e=d(),p(n.$$.fragment),r=d(),$=h("div"),p(i.$$.fragment),E=d(),p(C.$$.fragment),this.h()},l(t){F.block.l(t),e=g(t),v(n.$$.fragment,t),r=g(t),$=s(t,"DIV",{class:!0});var c=o($);v(i.$$.fragment,c),c.forEach(a),E=g(t),v(C.$$.fragment,t),this.h()},h(){c($,"class","w-12 h-12 fixed bottom-0 mb-24 right-0 mr-8")},m(t,s){F.block.m(t,F.anchor=s),F.mount=()=>e.parentNode,F.anchor=e,l(t,e,s),b(n,t,s),l(t,r,s),l(t,$,s),b(i,$,null),l(t,E,s),b(C,t,s),S=!0},p(e,[r]){x(F,t=e,r);const s={};32768&r&&(s.$$scope={dirty:r,ctx:t}),n.$set(s);const o={};32768&r&&(o.$$scope={dirty:r,ctx:t}),i.$set(o);const a={};32774&r&&(a.$$scope={dirty:r,ctx:t}),!L&&1&r&&(L=!0,a.open=t[0],w((()=>L=!1))),C.$set(a)},i(t){S||(k(F.block),k(n.$$.fragment,t),k(i.$$.fragment,t),k(C.$$.fragment,t),S=!0)},o(t){for(let e=0;e<3;e+=1){const t=F.blocks[e];y(t)}y(n.$$.fragment,t),y(i.$$.fragment,t),y(C.$$.fragment,t),S=!1},d(t){F.block.d(t),F.token=null,F=null,t&&a(e),j(n,t),t&&a(r),t&&a($),j(i),t&&a(E),j(C,t)}}}function st(t,e,n){let r;E(t,I,(t=>n(9,r=t)));var s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(s,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function c(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}l((r=r.apply(t,e||[])).next())}))};let o=!1,a="",c=null;return[o,a,c,()=>s(void 0,void 0,void 0,(function*(){const{error:t,data:e}=yield O.from("sermons").select("\n            title,id\n        ");if(t)throw t;return e})),()=>s(void 0,void 0,void 0,(function*(){console.log("creating sermon");const{error:t,data:e}=yield O.from("sermons").insert([{title:a,profile_id:r.id}]);t?n(2,c=t.message):H(`/sermons/${e[0].id}`)})),()=>n(0,o=!0),()=>n(0,o=!0),function(t){a=t,n(1,a)},function(t){o=t,n(0,o)}]}export default class extends t{constructor(t){super(),e(this,t,st,rt,n,{})}}
